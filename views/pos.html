{% extends "layout.php" %}

{% block header %}
<script src="js/jquery.autocompleter.js"></script> 
  <script src="js/jquery.spin.js"></script> 
  
  <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
  <script src="http://103.28.15.75:8069/api/js/pos.js"></script>

{% endblock %} 

{% block content %}
<style>
  table {
  table-layout: fixed;
}

body{
	background: #ecf0f1;
	font-family: sans-serif;
	font-size: 11pt;
}
#modal-kotak{
	margin:5% 30% 30% 30%;
	width: 500px;	
	height: 200px;
	position: absolute;
	position:fixed;
	z-index:1002;
	display: none;
	background: white;	
}
#atas{
	font-size: 15pt;
	padding: 20px;	
	height: 80%;
}
#bawah{
	background: #fff;
}

#tombol-tutup{	
	background: #e74c3c;
}
#tombol-tutup,#tombol{
	height: 30px;
	width: 100px;
	color: #fff;
	border: 0px;
}
#bg{
	opacity:.80;
	position: absolute;
	display: none;
	position: fixed;
	top: 0%;
	left: 0%;
	width: 100%;
	height: 100%;
	background-color: #000;
	z-index:1001;
	opacity: 0.8;
}
#tombol{
	background: #e74c3c;        
}

</style>
<div class = "mdl-layout__content">    
    <div class = "mdl-grid">
              
      <div class = "mdl-cell mdl-cell--3-col graybox" height="520px" style="background:#fa4b2a;">
          
            <input id="barcode" value="3"/>
            <table>
              <tbody>
                  <div id="results"  ></div>
              </tbody>
            </table>
            
         
      </div>

        <div class = "mdl-cell mdl-cell--6-col graybox">
            <div class="spin" data-spin /></div> 
            <button id="addrow" class="mdl-button mdl-js-button mdl-button--raised mdl-button--colored">
                >Add</button>   
            <hr>    
            <table id="items" width="50%">
                <col width="80px" />
                <col width="80px" />
                <col width="40px" />
                <col width="100px" />
                <thead>
                      <th>Barcode</th>
                      <th>Article</th>
                      <th>Qty</th>
                      <th>Discount</th>
                      <th>Total</th>
                </thead>  
                <tbody>
                      <tr class="item-row">
                      <td>12345678</td>
                      <td>VIVINICI</td>
                      <td>1</td>
                      <td>10000</td>
                      <td>1000000</td>  
                      </tr>  
                </tbody>    


            </table>    
      </div>
      
      
      <div class = "mdl-cell mdl-cell--2-col graybox" style="background:#fa4b2a;">
           Pilih Pelanggan (Opsional)
           <input type="text" id="members"/>
           <button id="tombol" class="mdl-button mdl-js-button mdl-button--raised mdl-button--colored">
            PelangganBaru</button>
           <hr>

           <div class="mdl-layout-spacer"></div>
           
           <br>Jumlah Dari 0 Item
           <br>Sub Total
           <br>Total
           <div class="mdl-layout-spacer"></div>
            type pembayaran
            <div class="mdl-layout-spacer"></div>
            Nilai pembayaran
            <div class="mdl-layout-spacer"></div>
            <button id="terima" class="mdl-button mdl-js-button mdl-button--fab mdl-button--mini-fab">
                <i class="material-icons">add</i>
    
            </button>
            <div class="mdl-layout-spacer"></div>
            <button>Tangguhkan</button>
            <button>Batal Jual</button>

	    </div>
 
          

    </div>  
</div>                

<div id="bg"></div>
	<div id="modal-kotak">
		<div id="atas">
			   <label>Nama pelanggan</label><input type="text"/>
		</div>
		<div id="bawah">
			<button id="tombol-tutup">CLOSE</button>
		</div>
	</div>	 

<script>
$('#tombol').click(function(){
    $('#modal-kotak , #bg').fadeIn("slow");
});
$('#tombol-tutup').click(function(){
    $('#modal-kotak , #bg').fadeOut("slow");
});

$('#terima').click(function(){
    $('#modal-kotak , #bg').fadeIn("slow");
});
$('#tombol-tutup').click(function(){
    $('#modal-kotak , #bg').fadeOut("slow");
});
   
    
</script>
<script>

 

var cari='6';
var peopleHTML='';
$('#add').click(function(){
  alert('Click');
});


$("#addrow").click(function(){
    $(".item-row:last").after('<tr class="item-row"><td class="item-name"><div class="delete-wpr">Item Name<a class="delete" href="javascript:;" title="Remove row">X</a></div></td><td class="description"><textarea>Description</textarea></td><td><textarea class="cost">$0</textarea></td><td><textarea class="qty">0</textarea></td><td><span class="price">$0</span></td></tr>');
    if ($(".delete").length > 0) $(".delete").show();
  
  });

$("#members").change(function(){
    alert("member");
  });


$('#barcode').change(function(){
  
  $('.spin').spin('show');
  $("#results").html("");
  $.ajax({url:'barcode/'+$('#barcode').val(),
   // data:{action:action, query:query},
    success:function(data)
    
    {
      peopleHTML='';
      for (var key in data) {
       
        peopleHTML += "<tr>";  
        peopleHTML += "<td>" + data[key]["label"] + "</td>";
        peopleHTML += "</tr>";    
         
      }

      // Replace tableâ€™s tbody html with peopleHTML
      $("#results").html(peopleHTML);
    }
 
  })
});
 



</script>




{% endblock %}